% High throughput experimentation
The advent of high-throughput experiments holds the prospect of significantly accelerating the speed of materials discovery\cite{Liu2019}. The synthesis and characterization of novel materials are becoming increasingly efficient and automated, increasing the throughput of samples in experimentation pipelines\cite{MacLeod2019, Ludwig2019, Ozaki2020}. \\

% On Rietveld refinement
After fabricating a new material, a number of analysis techniques can be used to characterize the sample. One method that can be used for phase identification, phase quantification, grain size characterization, and to determine the crystal structure of a new material is powder X-ray diffraction (pXRD). 
When using pXRD measurements, crystal structures are typically determined through Rietveld refinement. In Rietveld refinement, an initial crystal structure model is fitted to the observed diffractogram by iteratively updating the structural model. Each update of the structural model seeks to minimize the difference between the observed diffractogram and the diffractogram simulated from the current structural model \cite{Dinnebier2019, Cano2021}. As Rietveld refinement is a local optimization method, the result of the refinement procedure is generally only as good as the initial structural model the process started from. \\

% Manual rietveld refinement and its problems
Manually performing Rietveld refinement is time-consuming and often requires expert knowledge. It is not scalable to the degree required to keep up with advances in throughput and efficiency in other steps of the experimentation pipeline. In a Rietveld refinement process, the operator starts by setting parameters that characterize the background and peak shape of the powder diffraction pattern and determines a crystal structure model from which the optimization process can start. This model is usually obtained using search-match software, which identifies crystal structures with similar powder diffraction patterns from a database of crystal structures with accompanying powder diffraction patterns. Databases commonly used for this purpose include the Powder Diffraction File\cite{GatesRector2019}, the Inorganic Crystal Structure Database \cite{Belsky2002}, and the Crystallography Open Database \cite{Grazulis2009}. However, an initial structural model obtained from such a database via search-match software is not guaranteed to lead to an accurate structure solution through Rietveld refinement. Especially for novel structures, obtaining an initial structural model through matching to a database of known structures can be problematic. In such cases, more complex crystal structure solution approaches need to be applied to find suitable crystal structure guesses \cite{structure_solution_review}.\\

% VISUAL ABSTRACT FIGURE
\begin{figure}[!b]
    \centering
    \includegraphics[width=1.0\linewidth]{figures/pipeline.pdf}
    \caption{Experimental powder X-ray diffraction (pXRD) patterns from several contributors are collected in the \textit{opXRD} database. The proposed open-access database of experimental data aims to support each step in the pXRD-related machine learning workflow by informing better physics simulations, supplying model training data, and providing a foundation for realistic performance evaluations.}
    \label{fig:overview}
\end{figure}

Additionally, attempting to refine all crystal structure parameters at once, starting from this initial structure, is known to lead to unphysical results\cite{Ozaki2020}. Hence parameters are refined iteratively, with each iteration only refining a limited set of parameters. If, during the iterative determination of parameters, the structural model becomes unphysical the operator must intervene to backtrack to a previous successful step or start over entirely. Finding the correct order in which to refine structure parameters and finding the correct values for fixed parameters both present problems that add to the difficulty of the refinement process.\\

Machine learning has the potential to speed up the manual analysis of powder diffractograms and keep pace with an automated high-throughput experimentation environment\cite{Agrawal2019, Surdu2023}.
Models can be trained to predict crystal structure information directly given a diffractogram, or models can be used to automate the conventional workflow of finding an initial guess \cite{Surdu2023} and running ML-automated Rietveld refinement \cite{Feng2019}.
So far, however, due to an absence of labeled datasets with experimental diffractograms\cite{Wang2020}, machine learning in this domain has largely relied on diffractograms simulated from known structures\cite{Park2017, Lee2023} or, most recently, from generated synthetic crystals\cite{Schopmans2023}. \\

% Predicting structure information with machine learning
Models trained on datasets with simulated diffractograms have already shown very strong performance in predicting lattice parameters\cite{Dong2021, Chitturi2021, Habershon2004, zhang2024crystallographic}, spacegroup \cite{cao2024simxrd,Schopmans2023, Oviedo2018, Park2017, Vecsei2018, Zaloga2020, Suzuki2020, Chakraborty2021,zhang2024crystallographic}, and crystallite size \cite{Dong2021, Chakraborty2021} from simulated diffractograms.
However, the performance substantially drops off when these models are applied to data originating from experiments \cite{cao2024simxrd,Schopmans2023,zhang2024crystallographic, Wang2020, Vecsei2018} The patterns observed in experiments exhibit imperfections that do not appear when simulating the X-ray diffraction pattern of a powder sample under ideal conditions. The physical effects underlying these imperfections need to be modeled accurately in order to be able to transfer models trained on simulated data to experimental patterns. Most approaches currently model these imperfections as a simple signal based on a heuristic functional form added to the simulated diffractograms. Experimental data can provide clues on how to model these imperfections in a more realistic fashion. \\

At the moment, the number of openly available datasets for experimental powder data is very limited. The main source for experimental patterns is the RRUFF database\cite{lafuente2015}. Further commercial datasets such as the PDF5+\cite{GatesRector2019} and the Linus Pauling File\cite{villars2018} exist, but license fees and restrictions in their use to train publishable models or even publish the training data limit their usability. Collecting a labeled dataset of raw experimental powder X-ray diffraction data of sufficient size to directly train a model that predicts crystal structure information is currently out of reach. The most advanced ML models currently are trained on approximately $10^5 - 10^6$ simulated diffractograms. \cite{Salgado2023, Schopmans2023} This is, to the best of our knowledge, two orders of magnitude larger than the largest currently curated experimental dataset, the PDF-5+ with approximately $2\cdot 10^4$ experimental patterns. It is even one order of magnitude larger than the approximately $10^5$ unlabeled diffractograms in the initial version of the opXRD dataset we present here.\\

However, even small labeled and also unlabeled datasets of experimental diffractograms hold significant value in practice. First of all, labeled data can be used to test and benchmark existing and new automated analysis approaches, which yields a better comparison than when using the very limited currently available datasets, such as the commonly used RRUFF mineral dataset\cite{Armbruster2015}. \\

Furthermore, even completely unlabeled data can enable machine learning researchers to evaluate how closely their simulations represent experimental data, identify what features are missing, and modify their simulation algorithms accordingly to arrive at a simulation that mirrors how data appears in reality. In this way, one can bring the simulated patterns closer to those observed in experiments by more accurately modeling the scattering process.
Improving the simulation of data involves accounting for more of the physical effects that influence the scattering process such as preferred grain orientation, variations in grain size, crystal defects, the impact of temperature on the scattering process, internal stress, and X-ray-induced fluorescence\cite{cao2024simxrd, Waseda2011, Pecharsky2023}.  Additionally, it should be considered that varying experimental setups can produce distinct powder diffraction patterns on the same sample. Features that may vary between experimental setups and influence the recorded pattern include the shape of diffraction peaks, the wavelength and polarization of the employed X-ray source as well as potentially non-monochromatic radiation, and the detector geometry
\cite{cao2024simxrd, Waseda2011, Pecharsky2023}. Some experimental setups may also exhibit imperfections such as displacement of the sample from its intended position leading to the recorded scattering angles being slightly off \cite{cao2024simxrd,hulbert2023} or background events such as instrument noise or X-rays scattering off equipment onto the screen.\\

Additionally, some of the observed imperfections can be accounted for using transfer learning approaches. In transfer learning the objective is to transfer the capabilities of a model learned on a source domain in which labeled data is abundant to a target domain in which labeled data is sparse\cite{Zhuang2021}. In this context, the source domain is simulated powder diffraction patterns and the target domain is experimental powder diffraction patterns. Many approaches to transfer learning have been proposed, particularly in the domain of image classification \cite{Gatys2016, Ganin2015}. These existing techniques can be adapted to facilitate transfer learning in the context of pXRD patterns.\\

In this publication, we introduce an open powder X-ray diffraction (opXRD) database that collects a broad range of patterns from experiments. With a total of $92,552$ patterns, the opXRD database exceeds the size of the previously largest database of openly accessible experimental powder diffraction data by two orders of magnitude. To the best of our knowledge, up to now the largest database of this type was the RRUFF database, containing 1,290 experimental powder diffraction patterns. Our opXRD dataset has been curated by collecting the accumulated data from multiple research groups and institutions with high-throughput XRD facilities. It contains pXRD patterns from single and multiphase materials from a wide variety of material classes, including high-entropy materials, perovskites, and commercial catalysts. Some of the XRD data was collected on thin-films rather than on true powder samples, which may influence the quality of the data in regards to full structure resolution. Additionally some of the data was collected in grazing-angle geometry rather than in the usual Bragg-Brentano geometry employed in powder diffraction. Details about the experiments of contributing research groups, including the presence of thin-films samples and the usage of atypical diffraction geometries are discussed in Section~$\eqref{sec:our_dataset}$. A detailed description of how to use the data is given in Section~$\eqref{sec:how_to_use}$, and Section~$\eqref{sec:summary_and_outlook}$ describes how further data can be contributed.

\begin{figure*}[!htb]
    \centering
    \includegraphics[width=\linewidth]{figures/overview.pdf}
    \caption{Overview of the data collection pipeline. Datasets are submitted using an online submission form, optionally with the help of our submission helper software. After post-processing and data homogenization, we offer the creation of a Zenodo entry for each user submission and subsequently include the submission in the opXRD database.}
    \label{fig:overview}
\end{figure*}

% How to contribute? This aspect deserves a separate paragraph
The opXRD database is intended as a growing, community-driven initiative. The dataset we present here is the first version, but we hope to further increase the dataset size through active engagement with the pXRD community. Our primary objective is to minimize the effort and thus the barrier to contributing experimental data to the opXRD database. Thus, we developed a program that helps to find and share data from pXRD lab computers. In detail, users can select their most common pXRD file types, the program lists all files of that type, and users can select or deselect certain folders or files for sharing. Selected contributions will be uploaded to opXRD, processed to a common file format, and---if wanted---published on Zenodo on behalf of the contributors, before becoming part of the opXRD database. If labels are available, they can be shared with opXRD as well. Further details can be found on the opXRD website (\url{https://xrd.aimat.science/}). \\

As argued by Aranda and Kroon-Batenburg \textit{et al}.\cite{Aranda2018, Kroon-Batenburg2024}, sharing raw powder diffraction data is not only in the interest of furthering machine learning research but is also in line with open science principles. It furthers the ability of other researchers to reproduce published work and in turn, adds to the credibility of the publisher of the data. Considering our streamlined submission and post-processing framework, a publication of powder diffraction data through the opXRD database is a simple way of realizing these principles. Compared to publishing data individually, it also has the added benefit that the data is contributed towards a large, homogenous dataset with a standardized interface. This makes the data more easily accessible to other researchers and provides more value to researchers seeking large quantities of data compared to an isolated submission on Zenodo. However, further data annotation with metadata is required to fully fulfill the FAIR data principles.\\

The broad range of available experimental samples contained in the opXRD v1.0 database makes it possible to apply state-of-the-art ML approaches to the domain of powder XRD analysis. We hope that this can drive ML research in this field towards more advanced automated analysis workflows that can accelerate materials science research through ready application in high-throughput experimentation pipelines.\\